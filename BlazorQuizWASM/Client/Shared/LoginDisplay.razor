@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation

<AuthorizeView>

    <Authorized>
        <MudLink Style="padding: 15px;"
                 Color="Color.Tertiary" 
                 Underline="Underline.None" 
                 Href="authentication/profile">
                 Hello, @context.User.Identity?.Name!
        </MudLink>

        <MudButton 
            Style="background-color: yellowgreen; color: white; margin-top: 5px;" 
            Variant="Variant.Filled" @onclick="BeginLogOut">
            Log out
        </MudButton>
    </Authorized>

    <NotAuthorized>
        <MudButton 
            Style="background-color: yellowgreen; color: white; margin-top: 10px; margin-right: 5px;" 
            Variant="Variant.Filled" 
            Href="authentication/register">
            Register
        </MudButton>

        <MudButton 
            Style="background-color: yellowgreen; color: white; margin-top: 10px; margin-right: 5px;"
            Variant="Variant.Filled" 
            Color="Color.Tertiary" 
            Href="authentication/login">
            Log in
        </MudButton>
    </NotAuthorized>

</AuthorizeView>

@code{
    private void BeginLogOut()
    {
        Navigation.NavigateToLogout("authentication/logout");
    }
}
